[gd_scene load_steps=26 format=3 uid="uid://c5350q0aryax0"]

[ext_resource type="PackedScene" uid="uid://duevw8ikxn5kj" path="res://scenes/ui/menus/pause.tscn" id="1_7plis"]
[ext_resource type="PackedScene" uid="uid://pw71tm25g4j4" path="res://scenes/particles/weather.tscn" id="2_j5sqx"]
[ext_resource type="PackedScene" uid="uid://cgpke20inq3xd" path="res://scenes/enviroments/world_environment.tscn" id="3_ukurm"]
[ext_resource type="PackedScene" uid="uid://c63gb30rbqgem" path="res://scenes/reaper.tscn" id="4_ly2p2"]
[ext_resource type="PackedScene" uid="uid://bwyvmebwu86xs" path="res://scenes/interactables/door.tscn" id="5_47rtl"]
[ext_resource type="Material" uid="uid://b7ndlyb5lfeuy" path="res://materials/bricks/small/world_small.tres" id="6_50xhr"]
[ext_resource type="PackedScene" uid="uid://b1gqd40t6mj76" path="res://scenes/interactables/soul.tscn" id="7_j5sqx"]
[ext_resource type="Material" uid="uid://cwytjbq2qmglj" path="res://materials/bricks/star/world_star.tres" id="7_nc132"]
[ext_resource type="ArrayMesh" uid="uid://duvsas8smowxr" path="res://models/godot_local/rock_8.res" id="8_47rtl"]
[ext_resource type="ArrayMesh" uid="uid://do84noxgj8ikc" path="res://models/godot_local/rock_5.res" id="8_50xhr"]
[ext_resource type="Material" uid="uid://pl3nbr4toayv" path="res://materials/bricks/rocks/rocks.tres" id="8_ly2p2"]
[ext_resource type="PackedScene" uid="uid://b36oi3g053jo0" path="res://scenes/interactables/rocks/falling_platform.tscn" id="8_ukurm"]

[sub_resource type="BoxShape3D" id="BoxShape3D_8x7wd"]
size = Vector3(7, 11, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_ukurm"]
size = Vector3(5, 10.772, 5)

[sub_resource type="BoxMesh" id="BoxMesh_ly2p2"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_nc132"]
data = PackedVector3Array(24.6346, 0.4042, 0.9661, 22.5556, 1.468, 0.9661, 22.822, 0.0764, 0.9661, 24.6346, 0.4042, 0.9661, 23.581, 1.4266, 0.9661, 22.5556, 1.468, 0.9661, 24.4009, -0.6772, 0.9661, 24.6346, 0.4042, 0.9661, 22.822, 0.0764, 0.9661, 24.4009, -0.6772, 0.9661, 22.822, 0.0764, 0.9661, 23.5187, -1.7699, 0.9661, 21.401, -0.2925, 0.9661, 23.5187, -1.7699, 0.9661, 22.822, 0.0764, 0.9661, 21.401, -0.2925, 0.9661, 21.9647, -1.3146, 0.9661, 23.5187, -1.7699, 0.9661, 22.5556, 1.468, 0.9661, 21.401, -0.2925, 0.9661, 22.822, 0.0764, 0.9661, 22.5556, 1.468, 0.9661, 21.5965, 0.7443, 0.9661, 21.401, -0.2925, 0.9661, 23.5187, -1.7699, 0.9661, 24.0238, -0.5337, 1.8446, 24.4009, -0.6772, 0.9661, 23.5187, -1.7699, 0.9661, 23.3822, -1.3285, 1.8446, 24.0238, -0.5337, 1.8446, 24.4009, -0.6772, 0.9661, 24.1937, 0.2528, 1.8446, 24.6346, 0.4042, 0.9661, 24.4009, -0.6772, 0.9661, 24.0238, -0.5337, 1.8446, 24.1937, 0.2528, 1.8446, 21.401, -0.2925, 0.9661, 22.2519, -0.9973, 1.8446, 21.9647, -1.3146, 0.9661, 21.401, -0.2925, 0.9661, 21.8418, -0.2539, 1.8446, 22.2519, -0.9973, 1.8446, 23.581, 1.4266, 0.9661, 22.6816, 1.0266, 1.8446, 22.5556, 1.468, 0.9661, 23.581, 1.4266, 0.9661, 23.4274, 0.9965, 1.8446, 22.6816, 1.0266, 1.8446, 21.9647, -1.3146, 0.9661, 23.3822, -1.3285, 1.8446, 23.5187, -1.7699, 0.9661, 21.9647, -1.3146, 0.9661, 22.2519, -0.9973, 1.8446, 23.3822, -1.3285, 1.8446, 22.5556, 1.468, 0.9661, 21.984, 0.5002, 1.8446, 21.5965, 0.7443, 0.9661, 22.5556, 1.468, 0.9661, 22.6816, 1.0266, 1.8446, 21.984, 0.5002, 1.8446, 24.6346, 0.4042, 0.9661, 23.4274, 0.9965, 1.8446, 23.581, 1.4266, 0.9661, 24.6346, 0.4042, 0.9661, 24.1937, 0.2528, 1.8446, 23.4274, 0.9965, 1.8446, 21.5965, 0.7443, 0.9661, 21.8418, -0.2539, 1.8446, 21.401, -0.2925, 0.9661, 21.5965, 0.7443, 0.9661, 21.984, 0.5002, 1.8446, 21.8418, -0.2539, 1.8446, 23.3822, -1.3285, 1.8446, 22.9706, 0.0143, 2.7064, 24.0238, -0.5337, 1.8446, 24.0238, -0.5337, 1.8446, 22.9706, 0.0143, 2.7064, 24.1937, 0.2528, 1.8446, 21.8418, -0.2539, 1.8446, 22.9706, 0.0143, 2.7064, 22.2519, -0.9973, 1.8446, 23.4274, 0.9965, 1.8446, 22.9706, 0.0143, 2.7064, 22.6816, 1.0266, 1.8446, 22.2519, -0.9973, 1.8446, 22.9706, 0.0143, 2.7064, 23.3822, -1.3285, 1.8446, 22.6816, 1.0266, 1.8446, 22.9706, 0.0143, 2.7064, 21.984, 0.5002, 1.8446, 24.1937, 0.2528, 1.8446, 22.9706, 0.0143, 2.7064, 23.4274, 0.9965, 1.8446, 21.984, 0.5002, 1.8446, 22.9706, 0.0143, 2.7064, 21.8418, -0.2539, 1.8446)

[sub_resource type="Animation" id="Animation_j5sqx"]
length = 0.001

[sub_resource type="Animation" id="Animation_7plis"]
resource_name = "cycle"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 1.96667),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 5, 0), Vector3(0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_7plis"]
resource_local_to_scene = true
_data = {
&"RESET": SubResource("Animation_j5sqx"),
&"cycle": SubResource("Animation_7plis")
}

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_50xhr"]
data = PackedVector3Array(-1.0133, 0.8003, 0.9583, -0.7938, -1.1113, 0.9583, 0.2624, -0.3557, 0.9583, -1.0133, 0.8003, 0.9583, -1.1713, -0.1745, 0.9583, -0.7938, -1.1113, 0.9583, -0.7938, -1.1113, 0.9583, 1.5143, -1.4871, 0.9583, 0.2624, -0.3557, 0.9583, -0.7938, -1.1113, 0.9583, 0.6819, -1.7104, 0.9583, 1.5143, -1.4871, 0.9583, 1.5143, -1.4871, 0.9583, 1.1134, 0.2854, 0.9583, 0.2624, -0.3557, 0.9583, 1.5143, -1.4871, 0.9583, 1.7527, -1.0424, 0.9583, 1.1134, 0.2854, 0.9583, -0.3878, 1.5076, 0.9583, -1.0133, 0.8003, 0.9583, 0.2624, -0.3557, 0.9583, -0.3878, 1.5076, 0.9583, 0.2624, -0.3557, 0.9583, 1.1134, 0.2854, 0.9583, 0.3014, 1.433, 0.9583, 1.1134, 0.2854, 0.9583, 2.0089, 0.9601, 0.9583, 0.3014, 1.433, 0.9583, -0.3878, 1.5076, 0.9583, 1.1134, 0.2854, 0.9583, 1.7527, -1.0424, 0.9583, 2.0089, 0.9601, 0.9583, 1.1134, 0.2854, 0.9583, 1.7527, -1.0424, 0.9583, 2.0035, -0.5744, 0.9583, 2.0089, 0.9601, 0.9583, 2.0089, 0.9601, 0.9583, 0.3638, 0.6175, 2.1053, 0.3014, 1.433, 0.9583, 2.0089, 0.9601, 0.9583, 1.1637, 0.3958, 2.1053, 0.3638, 0.6175, 2.1053, 0.3014, 1.433, 0.9583, 0.0409, 0.6524, 2.1053, -0.3878, 1.5076, 0.9583, 0.3014, 1.433, 0.9583, 0.3638, 0.6175, 2.1053, 0.0409, 0.6524, 2.1053, 1.7527, -1.0424, 0.9583, 1.1612, -0.323, 2.1053, 2.0035, -0.5744, 0.9583, 1.7527, -1.0424, 0.9583, 1.0436, -0.5422, 2.1053, 1.1612, -0.323, 2.1053, -1.1713, -0.1745, 0.9583, -0.1493, -0.5746, 2.1053, -0.7938, -1.1113, 0.9583, -1.1713, -0.1745, 0.9583, -0.3262, -0.1357, 2.1053, -0.1493, -0.5746, 2.1053, 2.0035, -0.5744, 0.9583, 1.1637, 0.3958, 2.1053, 2.0089, 0.9601, 0.9583, 2.0035, -0.5744, 0.9583, 1.1612, -0.323, 2.1053, 1.1637, 0.3958, 2.1053, -0.7938, -1.1113, 0.9583, 0.542, -0.8552, 2.1053, 0.6819, -1.7104, 0.9583, -0.7938, -1.1113, 0.9583, -0.1493, -0.5746, 2.1053, 0.542, -0.8552, 2.1053, -1.0133, 0.8003, 0.9583, -0.3262, -0.1357, 2.1053, -1.1713, -0.1745, 0.9583, -1.0133, 0.8003, 0.9583, -0.2522, 0.321, 2.1053, -0.3262, -0.1357, 2.1053, 0.6819, -1.7104, 0.9583, 0.932, -0.7506, 2.1053, 1.5143, -1.4871, 0.9583, 0.6819, -1.7104, 0.9583, 0.542, -0.8552, 2.1053, 0.932, -0.7506, 2.1053, -0.3878, 1.5076, 0.9583, -0.2522, 0.321, 2.1053, -1.0133, 0.8003, 0.9583, -0.3878, 1.5076, 0.9583, 0.0409, 0.6524, 2.1053, -0.2522, 0.321, 2.1053, 1.5143, -1.4871, 0.9583, 1.0436, -0.5422, 2.1053, 1.7527, -1.0424, 0.9583, 1.5143, -1.4871, 0.9583, 0.932, -0.7506, 2.1053, 1.0436, -0.5422, 2.1053, 1.1637, 0.3958, 2.1053, 0.4082, 0.0367, 2.59, 0.3638, 0.6175, 2.1053, 0.3638, 0.6175, 2.1053, 0.4082, 0.0367, 2.59, 0.0409, 0.6524, 2.1053, 1.0436, -0.5422, 2.1053, 0.4082, 0.0367, 2.59, 1.1612, -0.323, 2.1053, -0.3262, -0.1357, 2.1053, 0.4082, 0.0367, 2.59, -0.1493, -0.5746, 2.1053, 1.1612, -0.323, 2.1053, 0.4082, 0.0367, 2.59, 1.1637, 0.3958, 2.1053, -0.1493, -0.5746, 2.1053, 0.4082, 0.0367, 2.59, 0.542, -0.8552, 2.1053, -0.2522, 0.321, 2.1053, 0.4082, 0.0367, 2.59, -0.3262, -0.1357, 2.1053, 0.542, -0.8552, 2.1053, 0.4082, 0.0367, 2.59, 0.932, -0.7506, 2.1053, 0.0409, 0.6524, 2.1053, 0.4082, 0.0367, 2.59, -0.2522, 0.321, 2.1053, 0.932, -0.7506, 2.1053, 0.4082, 0.0367, 2.59, 1.0436, -0.5422, 2.1053)

[sub_resource type="Animation" id="Animation_ukurm"]
resource_name = "cycle_2"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 1.96667),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(5, 0, 0), Vector3(0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_j5sqx"]
_data = {
&"RESET": SubResource("Animation_j5sqx"),
&"cycle": SubResource("Animation_7plis"),
&"cycle_2": SubResource("Animation_ukurm")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_j5sqx"]
size = Vector3(5, 16.5649, 5)

[sub_resource type="NavigationMesh" id="NavigationMesh_jc5vn"]
vertices = PackedVector3Array(-22.1898, 0.43213, -14.2991, -22.1898, 0.43213, 14.2009, 41.8102, 0.43213, 14.2009, 41.8102, 0.43213, -14.2991)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[sub_resource type="BoxMesh" id="BoxMesh_od467"]

[node name="Main" type="Node3D"]

[node name="Menu" parent="." instance=ExtResource("1_7plis")]

[node name="Enviroment" type="Node" parent="."]

[node name="Weather" parent="Enviroment" instance=ExtResource("2_j5sqx")]

[node name="WorldEnvironment" parent="Enviroment" instance=ExtResource("3_ukurm")]

[node name="Lights" type="Node" parent="Enviroment"]

[node name="OmniLight3D" type="OmniLight3D" parent="Enviroment/Lights"]
transform = Transform3D(-0.863752, 0.338229, -0.373543, -0.3265, 0.189003, 0.926108, 0.383837, 0.921889, -0.0528199, 16.3637, 1.1386, -0.412741)
light_color = Color(0.29, 0.29, 0.29, 1)
light_energy = 100.0
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
light_specular = 0.2
omni_range = 101.01

[node name="Lights" type="Node3D" parent="Enviroment/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -9, 0)

[node name="Interactables" type="Node" parent="."]

[node name="Reaper" parent="Interactables" instance=ExtResource("4_ly2p2")]
transform = Transform3D(-0.0916933, 0, -0.995788, 0, 1, 0, 0.995788, 0, -0.0916933, -13.0945, -7.47934, -1.63374)

[node name="Enter" parent="Interactables" node_paths=PackedStringArray("AREA", "START") instance=ExtResource("5_47rtl")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -22.5156, -9.60013, 1.00536e-06)
AREA = NodePath("Area3D")
START = NodePath("Start")
DESTINATION_NODE_NAME = "FloatingRocksDoor"
DESTINATION_SCENE = "level_2"

[node name="Area3D" type="Area3D" parent="Interactables/Enter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)
collision_layer = 3
collision_mask = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="Interactables/Enter/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.57746e-08, 5, -0.5)
shape = SubResource("BoxShape3D_8x7wd")

[node name="Start" type="Node3D" parent="Interactables/Enter"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -0.117285, 0.53226, 8.1402)

[node name="StaticBody3D2" type="StaticBody3D" parent="Interactables"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.74674, -11.9258, 12.7582)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Interactables/StaticBody3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0578384, 0)
shape = SubResource("BoxShape3D_ukurm")
debug_color = Color(0.69, 0.69, 0.69, 0.764706)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Interactables/StaticBody3D2"]
transform = Transform3D(-2.18557e-07, 0, 5, 0, 5, 0, -5, 0, -2.18557e-07, 0, 2.8386, 0)
material_override = ExtResource("7_nc132")
mesh = SubResource("BoxMesh_ly2p2")
skeleton = NodePath("../..")

[node name="Node3D" type="Node3D" parent="Interactables"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -31.4318, -4.11661, 12.7362)

[node name="AnimatableBody3D" type="AnimatableBody3D" parent="Interactables/Node3D"]
transform = Transform3D(1.82167, 0, 0, 0, -7.96276e-08, -1.82167, 0, 1.82167, -7.96276e-08, 0, 3.09495, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Interactables/Node3D/AnimatableBody3D"]
material_override = ExtResource("8_ly2p2")
mesh = ExtResource("8_50xhr")
skeleton = NodePath("../../..")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Interactables/Node3D/AnimatableBody3D"]
shape = SubResource("ConcavePolygonShape3D_nc132")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Interactables/Node3D/AnimatableBody3D"]
libraries = {
&"": SubResource("AnimationLibrary_7plis")
}
autoplay = "cycle"

[node name="Node3D2" type="Node3D" parent="Interactables"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.413, 0.335207, 12.736)

[node name="AnimatableBody3D" type="AnimatableBody3D" parent="Interactables/Node3D2"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Interactables/Node3D2/AnimatableBody3D"]
transform = Transform3D(1.66903, 0, 0, 0, -7.29557e-08, -1.66903, 0, 1.66903, -7.29557e-08, 0, 2.17789, 0)
material_override = ExtResource("8_ly2p2")
mesh = ExtResource("8_47rtl")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Interactables/Node3D2/AnimatableBody3D"]
transform = Transform3D(1.66903, 0, 0, 0, -7.29557e-08, -1.66903, 0, 1.66903, -7.29557e-08, 0, 2.17789, 0)
shape = SubResource("ConcavePolygonShape3D_50xhr")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Interactables/Node3D2/AnimatableBody3D"]
libraries = {
&"": SubResource("AnimationLibrary_j5sqx")
}
autoplay = "cycle_2"

[node name="StaticBody3D3" type="StaticBody3D" parent="Interactables"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 40.424, -4.02378, -13.0446)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Interactables/StaticBody3D3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.94387, 0)
shape = SubResource("BoxShape3D_j5sqx")
debug_color = Color(0.69, 0.69, 0.69, 0.764706)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Interactables/StaticBody3D3"]
transform = Transform3D(-2.18557e-07, 0, 5, 0, 17, 0, -5, 0, -2.18557e-07, 0, -3.1614, 0)
material_override = ExtResource("7_nc132")
mesh = SubResource("BoxMesh_ly2p2")
skeleton = NodePath("../..")

[node name="FallingPlatform3" parent="Interactables" instance=ExtResource("8_ukurm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 39.7089, -3.51431, -2.96558)

[node name="FallingPlatform2" parent="Interactables" instance=ExtResource("8_ukurm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 40.3871, -3.75597, 6.36576)

[node name="FallingPlatform" parent="Interactables" instance=ExtResource("8_ukurm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 31.6958, -4.18358, 12.9585)

[node name="SoulFloatingRocks" parent="Interactables" instance=ExtResource("7_j5sqx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 40.307, 2.80846, -12.7552)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -9, 0)
navigation_mesh = SubResource("NavigationMesh_jc5vn")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="NavigationRegion3D"]
material_override = ExtResource("6_50xhr")
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.71385, 9.93213, -0.0490699)
flip_faces = true
size = Vector3(65.3073, 20, 30)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(97.3175, 0, 0, 0, 1, 0, 0, 0, 42.0321, 0, -9.54005, 0)
material_override = ExtResource("7_nc132")
mesh = SubResource("BoxMesh_od467")

[editable path="Interactables/FallingPlatform3"]
[editable path="Interactables/FallingPlatform2"]
[editable path="Interactables/FallingPlatform"]
