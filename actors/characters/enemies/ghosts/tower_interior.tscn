[gd_scene load_steps=13 format=3 uid="uid://6ds3o48mieqb"]

[ext_resource type="PackedScene" uid="uid://duevw8ikxn5kj" path="res://menus/pause/container.tscn" id="1_tyd8o"]
[ext_resource type="Material" uid="uid://b7ndlyb5lfeuy" path="res://stages/materials/bricks/small/world_small.tres" id="2_l2efx"]
[ext_resource type="Material" uid="uid://cwytjbq2qmglj" path="res://stages/materials/bricks/star/world_star.tres" id="3_5is2e"]
[ext_resource type="PackedScene" uid="uid://pw71tm25g4j4" path="res://actors/props/weather/weather.tscn" id="4_kofmh"]
[ext_resource type="PackedScene" uid="uid://cgpke20inq3xd" path="res://stages/lighting/enviroment.tscn" id="5_k2g8k"]
[ext_resource type="PackedScene" uid="uid://c63gb30rbqgem" path="res://actors/characters/player/reaper.tscn" id="6_vd7l3"]
[ext_resource type="PackedScene" uid="uid://cbnpkl3l8dkx8" path="res://actors/props/wisp/wisp_stamina.tscn" id="7_3kua3"]
[ext_resource type="PackedScene" uid="uid://bwyvmebwu86xs" path="res://actors/props/doors/heavy/heavy_door.tscn" id="8_3yylr"]
[ext_resource type="PackedScene" uid="uid://c6e88ycy4nm7x" path="res://actors/characters/enemies/ghosts/ghost.tscn" id="9_m7wtr"]
[ext_resource type="PackedScene" uid="uid://1jc5rm2ln3av" path="res://actors/props/checkpoint/checkpoint.tscn" id="10_mf4fk"]

[sub_resource type="NavigationMesh" id="NavigationMesh_jc5vn"]
vertices = PackedVector3Array(2.06018, 0.25, -23.75, 1.81018, 0.25, -34.5, -22.1898, 0.25, -34.5, 22.5602, 0.25, 29.25, 22.5602, 0.25, -23.75, -22.1898, 0.25, 29.25, 2.81018, 10, -34.5, 2.81018, 10, -24.75, 22.5602, 10, -24.75, 22.5602, 10, -34.5, 3.06018, 0.25, -34.5, 3.06018, 0.25, -25, 22.5602, 0.25, -25, 22.5602, 0.25, -34.5)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(0, 4, 3), PackedInt32Array(2, 0, 5), PackedInt32Array(5, 0, 3), PackedInt32Array(9, 8, 6), PackedInt32Array(6, 8, 7), PackedInt32Array(13, 12, 10), PackedInt32Array(10, 12, 11)]

[sub_resource type="BoxMesh" id="BoxMesh_b2186"]

[node name="Main" type="Node3D"]

[node name="Menu" parent="." instance=ExtResource("1_tyd8o")]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -10, 0)
navigation_mesh = SubResource("NavigationMesh_jc5vn")

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13, 4.5, -30)
material_override = ExtResource("2_l2efx")
operation = 1
use_collision = true
size = Vector3(21, 10, 11)

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="NavigationRegion3D"]
material_override = ExtResource("2_l2efx")
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0601807, 9.93213, -2.54907)
flip_faces = true
size = Vector3(46, 20, 65)

[node name="FloorMesh" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(56.136, 0, 0, 0, 1, 0, 0, 0, 82.5, 0, -0.566012, 0)
material_override = ExtResource("3_5is2e")
mesh = SubResource("BoxMesh_b2186")

[node name="Enviroment" type="Node" parent="."]

[node name="Weather" parent="Enviroment" instance=ExtResource("4_kofmh")]

[node name="Lights" type="Node" parent="Enviroment"]

[node name="Lights" type="Node3D" parent="Enviroment/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -9, 0)

[node name="OmniLight3D" type="OmniLight3D" parent="Enviroment/Lights"]
transform = Transform3D(-0.863752, 0.338228, -0.373543, -0.3265, 0.189003, 0.926108, 0.383837, 0.921889, -0.0528203, 6.96341, 1.1386, -1.43818)
light_color = Color(0.24817, 0.269731, 0.291302, 1)
light_energy = 100.0
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
light_specular = 0.2
omni_range = 101.01

[node name="WorldEnvironment" parent="Enviroment" instance=ExtResource("5_k2g8k")]

[node name="Reaper" parent="." instance=ExtResource("6_vd7l3")]
transform = Transform3D(-0.16916, 0, 0.985589, 0, 1, 0, -0.985589, 0, -0.16916, 14, -7.47934, 20.7907)

[node name="Wisps" type="Node" parent="."]

[node name="WispStamina" parent="Wisps" instance=ExtResource("7_3kua3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.08563, 2.71911, -29.3764)

[node name="Doors" type="Node" parent="."]

[node name="TowerEast" parent="Doors" instance=ExtResource("8_3yylr")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -22.5156, -10.1933, 1.00536e-06)
DESTINATION_NODE_NAME = "TowerEast"
DESTINATION_SCENE = "uid://dsdh2bite7xv4"

[node name="TowerWest" parent="Doors" instance=ExtResource("8_3yylr")]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, 22.9699, -0.70237, -29.5036)
DESTINATION_NODE_NAME = "TowerWest"
DESTINATION_SCENE = "uid://dsdh2bite7xv4"

[node name="TowerSouth" parent="Doors" instance=ExtResource("8_3yylr")]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, 22.9699, -10.3612, 23.4964)
DESTINATION_NODE_NAME = "TowerSouth"
DESTINATION_SCENE = "uid://dsdh2bite7xv4"

[node name="Ghosts" type="Node" parent="."]

[node name="Ghost" parent="Ghosts" instance=ExtResource("9_m7wtr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.1068, -9.15278, 21.8807)

[node name="Ghost2" parent="Ghosts" instance=ExtResource("9_m7wtr")]
transform = Transform3D(-0.945729, 0, -0.324958, 0, 1, 0, 0.324958, 0, -0.945729, -0.796352, -8.91875, -33.4947)

[node name="Checkpoint" parent="." instance=ExtResource("10_mf4fk")]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, 19.8704, -9.83979, -21.1828)
